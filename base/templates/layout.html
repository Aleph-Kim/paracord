<!DOCTYPE html>
{% load static %}
<html lang="ko">

<head>
    <title>Paracord</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paracord</title>
    <link rel="stylesheet" href="{% static 'common.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'base.css' %}" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="shorticut icon" href="/favicon.ico" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/flowbite@1.3.3/dist/flowbite.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/flowbite@1.3.3/dist/flowbite.min.css" />

    <style>
        #btn-7 {
            border-radius: 50%;
            font-size: 15px;
            border: #363434 solid 1px;
            border: 5px solid transparent;
            transition: all 0.2s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-7:hover {
            border-radius: 30%;
            transition: all 0.4s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-8 {
            border-radius: 50%;
            font-size: 15px;
            border: #363434 solid 1px;
            border: 5px solid transparent;
            transition: all 0.2s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-8:hover {
            border-radius: 30%;
            transition: all 0.4s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-9 {
            border-radius: 50%;
            font-size: 15px;
            border: #363434 solid 1px;
            border: 5px solid transparent;
            transition: all 0.2s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-9:hover {
            border-radius: 30%;
            transition: all 0.4s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-10 {
            border-radius: 50%;
            font-size: 15px;
            border: #363434 solid 1px;
            border: 5px solid transparent;
            transition: all 0.2s cubic-bezier(.10, .24, 0, 1);
        }

        #btn-10:hover {
            border-radius: 30%;
            transition: all 0.4s cubic-bezier(.10, .24, 0, 1);
        }
    </style>
</head>

<body>
    <div class="flex">
        <div class="bg-gray-900 w-20 flex-none flex flex-col min-h-screen h-screen px-2 py-2">
            <div id="side_scroll" class="overflow-y-auto">
                <ul class="text-center">
                    <li>
                        <a href="{% url 'chat:list' %}" class="nav-link py-2" aria-current="page" title=""
                            data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Home">
                            <button type="button"
                                class="w-14 h-14 mx-auto text-white text-lg transition-all duration-1000
                                bg-green-400 rounded-[50%] hover:bg-teal-500 hover:rounded-[30%]"
                                >
                                <i class="fas fa-feather-alt fa-lg"></i>
                            </button>
                            <div class="text-gray-500 font-semibold text-sm">Paracord</div>
                    </li>
                    <li class="border-b border-gray-700 mx-4 mt-3">
                    </li>
                    {% if user %}
                    {% for room in user.part_server.all %}
                    <li class="nav-item w-100">
                        <a href="{% url 'chat:detail' room.id %}" class="nav-link py-2 margin" title=""
                            data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Customers">
                            <button title="{{ room.name }}" type="button"
                                class="flex items-center justify-center overflow-hidden whitespace-nowrap w-14 h-14 mx-auto mt-3 text-white text-md transition-all duration-[3000ms] bg-gray-700 rounded-[50%] hover:bg-teal-500 hover:rounded-[30%]">
                                {{ room.name }}
                            </button>
                        </a>
                    </li>
                    {% endfor %}
                    {% endif %}
                    <li>
                        <a href="{% url 'chat:create' %}" class="" aria-current="page" title="" data-bs-toggle="tooltip"
                            data-bs-placement="right" data-bs-original-title="Home">
                            <span>
                                <button id="btn-9" type="button"
                                    class="hover:bg-teal-500 hover:text-white w-14 h-14 bg-gray-700 text-green-400 rounded-full mx-auto mt-3">
                                    <i class="fas fa-plus fa-1x"></i>
                                </button>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'chat:my_server_list' %}" class="" title="" data-bs-toggle="tooltip"
                            data-bs-placement="right" data-bs-original-title="Customers">
                            <button id="btn-10" type="button"
                                class="hover:bg-teal-500 hover:text-white w-14 h-14 bg-gray-700 text-green-400 rounded-full mx-auto mt-3">
                                <i class="fas fa-sign-out-alt fs-4"></i>
                            </button>
                        </a>
                    </li>
                    <li>
                        <a href="/" title="" data-bs-toggle="tooltip" data-bs-placement="right"
                            data-bs-original-title="Dashboard">
                            <button type="button"
                                class="hover:bg-teal-500 hover:text-white w-14 h-14 bg-gray-700 text-green-400 rounded-full mx-auto mt-3"
                                id="btn-7">
                                <i class="fas fa-user-plus fa-1x"></i>
                            </button>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="flex flex-col min-h-screen h-screen flex-1">
            <div class="flex text-white h-12">
                <div
                    class="bg-gray-800 w-56 flex-none flex items-center justify-between px-3 py-2 border-b border-gray-900">

                    <div># {{ room.name }}</div>


                </div>
                <div
                    class="flex-1 bg-gray-700 flex items-center justify-between px-4 border-b border-gray-900">

                    <div class="flex items-center whitespace-nowrap">
                        <i class="fas fa-user-friends text-gray-200"></i>
                        <a href="{% url 'accounts:user_list' %}">
                            <div class="font-bold text-green-300 ml-2">친구</div>
                        </a>
                        <a href="{% url 'accounts:user_list_online' %}">
                            <button class="ml-4 bg-gray-600 rounded w-14 hover:bg-gray-800">온라인</button>
                        </a>
                        <a href="{% url 'accounts:user_list_all' %}">
                            <button class="ml-4 bg-gray-600 rounded w-12 hover:bg-gray-800">모두</button>
                        </a>
                        <a href="{% url 'accounts:add_friend_searchpage' %}">
                            <button class="ml-4 bg-green-400 rounded w-20 ">친구추가</button>
                        </a>
                    </div>
                    <a href="#" class="ml-4">
                        <form action="#" class="relative">
                            <input ype="text" placeholder="검색하기"
                                class="rounded bg-gray-900 text-gray-200 text-xs px-8 py-2">
                            <span class="absolute right-0 top-0 mr-1 " style="top:3px">
                                <i class="fas fa-search"></i>
                            </span>
                        </form>
                    </a>
                </div>
            </div>
            <div class="flex-1  flex overflow-y-hidden">
                <div class="bg-gray-800 w-56 flex-none flex flex-col justify-between">
                    <div class="text-sm overflow-y-auto">

                        <button class="flex items-center text-gray-500 hover:text-gray-200 py-3">
                            <i class="fas fa-caret-down uppercase tracking-wide"> 다이렉트 메세지</i>
                        </button>
                    </div>
                    <div class="bg-gray-900 py-4 px-2 flex items-center justify-between">
                        <div class="flex items-center">
                            <a href="#">
                                <i class="fas fa-user-circle fa-2x text-white"></i>
                            </a>
                            <div class="text-xs ml-2">
                                <div class="text-white">{{user.nickname}}</div>
                            </div>
                        </div>
                        <div class="flex items-center text-gray-500">

                            <a href="{% url 'accounts:logout' %}" data-bs-toggle="tooltip"
                                class="ml-2 text-xs text-gray-300">로그아웃</a>

                        </div>
                    </div>
                </div>
                <div class="bg-green-500 flex-1 flex justify-between">
                    <div class="bg-gray-700 flex-1 flex flex-col justify-between">
                        <div id="chat_scroll" class="text-sm text-gray-400 overflow-y-auto">
                            {% block content%}
                            {% endblock %}
                        </div>
                        {% block input %}
                        {% endblock %}
                    </div>
                    <div id="on_off_scroll" class="bg-gray-800 w-56 px-3 py-3 flex-none  overflow-y-auto">
                        <h3 class="uppercase tracking-wide font-semibold text-xs text-gray-400 mb-2">온라인 -
                        </h3>
                        {% for user in room.part_user.all %}
                        {% if user.is_active %}
                        <ul>
                            <li
                                class="text-sm text-gray-400 px-2 hover:text-gray-200 hover:bg-gray-700 py-1 my-2 ">
                                <a href="#" class="flex items-center">
                                    <span>
                                        <a href="#">
                                            <i class="fas fa-circle text-green-400"></i>
                                    </a>
                                </span>
                                    <span class="ml-2">
                                        {{user}}
                                    </span>
                                </a>
                            </li>
                        </ul>
                        {% endif %}
                        {% endfor %}
                        <h3 class="uppercase tracking-wide font-semibold text-xs text-gray-400 mb-2">오프라인 -
                        </h3>
                        {% for user in room.part_user.all %}
                        {% if not user.is_active %}
                        <ul>
                            <li
                                class="text-sm text-gray-400 px-2 hover:text-gray-200 hover:bg-gray-700 py-1 my-2 ">
                                <a href="#" class="flex items-center">
                                    <span><a href="#">
                                        <i class="fas fa-circle text-red-600"></i>
                                    </a></span>
                                    <span class="ml-2">
                                        {{user}}
                                    </span>
                                </a>
                            </li>
                        </ul>
                        {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>